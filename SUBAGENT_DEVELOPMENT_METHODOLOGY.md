# Subagent å¹¶å‘å¼€å‘æ–¹æ³•è®º

> åŸºäº Sequential Thinking MCP + æ–‡æ¡£åŒ–å·¥ä½œæµçš„ AI åä½œå¼€å‘æ–¹æ³•
> **é€šç”¨ Web é¡¹ç›®å¼€å‘æ–¹æ³•è®ºæ¨¡æ¿**
> **é€‚ç”¨**: å¤§å‹å¤æ‚ Web é¡¹ç›®çš„ AI è¾…åŠ©å¼€å‘
> **æ›´æ–°**: æ”¹é€ ä¸ºé€šç”¨ Web é¡¹ç›®æ¨¡æ¿,æ¶µç›–å‰ç«¯/åç«¯/æ•°æ®åº“/DevOps ç­‰å…¨æ ˆå¼€å‘

---

## ğŸ“Œ é‡è¦è¯´æ˜

**æœ¬æ–‡æ¡£æ˜¯é€šç”¨ Web é¡¹ç›®å¼€å‘æ–¹æ³•è®ºæ¨¡æ¿**

æœ¬æ–‡æ¡£ä¸­çš„æ‰€æœ‰ç¤ºä¾‹(ç”¨æˆ·è®¤è¯ã€æ•°æ®åº“è®¾è®¡ç­‰)ä»…ä¾›æ¼”ç¤ºæ–¹æ³•è®ºçš„ä½¿ç”¨æ–¹å¼ã€‚

âš ï¸ **é‡è¦æç¤º**:
- æ–‡æ¡£ä¸­å¯èƒ½ä»æœ‰éƒ¨åˆ†æ¥è‡ªåŸå§‹é¡¹ç›®çš„ä»£ç ç¤ºä¾‹å’Œåœºæ™¯æè¿°
- è¿™äº›ç¤ºä¾‹**ä»…ç”¨äºè¯´æ˜æ–¹æ³•è®º**,è€Œéå…·ä½“å®ç°å»ºè®®
- åœ¨å®é™…é¡¹ç›®ä¸­,è¯·æ ¹æ®ä½ çš„ä¸šåŠ¡é¢†åŸŸå’ŒæŠ€æœ¯æ ˆè¿›è¡Œç›¸åº”æ›¿æ¢

åœ¨åº”ç”¨åˆ°ä½ çš„é¡¹ç›®æ—¶:
1. **å¿…é¡»**æ ¹æ®é¡¹ç›®å®é™…éœ€æ±‚å®šä¹‰ Subagent è§’è‰²
2. **å¿…é¡»**æ›¿æ¢ç¤ºä¾‹ä»£ç ä¸ºä½ çš„æŠ€æœ¯æ ˆå’Œä¸šåŠ¡åœºæ™¯
3. **å»ºè®®**å‚è€ƒ `~/.claude/agents/` ä¸­çš„æ ‡å‡† agent å®šä¹‰
4. **å»ºè®®**ä»å°åŠŸèƒ½å¼€å§‹,é€æ­¥æ‰©å±•åˆ°å¤æ‚ç³»ç»Ÿ


## ğŸ“‹ ç›®å½•

- [æ–¹æ³•è®ºæ¦‚è¿°](#æ–¹æ³•è®ºæ¦‚è¿°)
- [æ ¸å¿ƒåŸç†](#æ ¸å¿ƒåŸç†)
- [æ¶æ„è®¾è®¡](#æ¶æ„è®¾è®¡)
- [TDD å·¥ä½œæµç¨‹](#tdd-å·¥ä½œæµç¨‹)
- [ä¸Šä¸‹æ–‡ä¼˜åŒ–ç­–ç•¥](#ä¸Šä¸‹æ–‡ä¼˜åŒ–ç­–ç•¥)
  - [ç§‘å­¦ç ”ç©¶åŸºç¡€](#ç§‘å­¦ç ”ç©¶åŸºç¡€)
  - [ä¸‰å¤§æ ¸å¿ƒåŸåˆ™](#ä¸‰å¤§æ ¸å¿ƒåŸåˆ™)
  - [åŠ¨æ€ä¸Šä¸‹æ–‡åˆ†é…ç­–ç•¥](#åŠ¨æ€ä¸Šä¸‹æ–‡åˆ†é…ç­–ç•¥)
  - [ä¸Šä¸‹æ–‡å¥åº·åº¦ç›‘æ§ä¸è°ƒä¼˜](#ä¸Šä¸‹æ–‡å¥åº·åº¦ç›‘æ§ä¸è°ƒä¼˜)
- [æ–‡æ¡£åŒ–å·¥ä½œæµ](#æ–‡æ¡£åŒ–å·¥ä½œæµ)
- [å®Œæ•´å·¥ä½œæµç¨‹](#å®Œæ•´å·¥ä½œæµç¨‹)
- [ä¼˜ç‚¹æ€»ç»“](#ä¼˜ç‚¹æ€»ç»“)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [TDD ä¸ Subagent æ–¹æ³•è®ºæ•´åˆ](#tdd-ä¸-subagent-æ–¹æ³•è®ºæ•´åˆ)
- [å®é™…åº”ç”¨ç¤ºä¾‹](#å®é™…åº”ç”¨ç¤ºä¾‹)

---

## æ–¹æ³•è®ºæ¦‚è¿°

### ä»€ä¹ˆæ˜¯ Subagent å¹¶å‘å¼€å‘?

Subagent å¹¶å‘å¼€å‘æ˜¯ä¸€ç§åŸºäº **AI Agent è§’è‰²åˆ†å·¥** å’Œ **æ–‡æ¡£åŒ–çŸ¥è¯†ç®¡ç†** çš„è½¯ä»¶å¼€å‘æ–¹æ³•è®ºã€‚å®ƒé€šè¿‡ä»¥ä¸‹æ–¹å¼æå‡å¼€å‘æ•ˆç‡:

1. **Sequential Thinking Controller**(æ€»åè°ƒå™¨)è´Ÿè´£å…¨å±€è§„åˆ’å’Œå†³ç­–
2. **å¤šä¸ªä¸“ä¸š Subagent**(é€šè¿‡ä¸åŒ prompt å®šä¹‰)å¹¶å‘å¤„ç†ç‹¬ç«‹ä»»åŠ¡
3. **æ–‡æ¡£åŒ–å·¥ä½œæµ** å®ç°çŸ¥è¯†æŒä¹…åŒ–å’Œä¸Šä¸‹æ–‡éš”ç¦»
4. **Token é¢„ç®—æ§åˆ¶** ç¡®ä¿æ¯ä¸ª Agent é«˜æ•ˆè¿è¡Œ

### é€‚ç”¨åœºæ™¯

**æœ€é€‚åˆ**:
- å¤§å‹é¡¹ç›®(å¤šæ¨¡å—ã€å¤šå±‚æ¬¡)
- å¤æ‚ç³»ç»Ÿæ¶æ„(å¾®æœåŠ¡ã€å¤šç»„ä»¶é›†æˆ)
- é•¿æœŸè¿­ä»£å¼€å‘(éœ€è¦çŸ¥è¯†ç§¯ç´¯)
- å›¢é˜Ÿåä½œé¡¹ç›®(éœ€è¦æ–‡æ¡£åŒ–æ²Ÿé€š)

---

## æ ¸å¿ƒåŸç†

### 1. è§’è‰²åˆ†ç¦»åŸåˆ™(Separation of Concerns)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Sequential Thinking Controller (æˆ‘)                 â”‚
â”‚  - å…¨å±€åˆ†æå’Œå†³ç­–                                        â”‚
â”‚  - ä»»åŠ¡åˆ†è§£å’Œåˆ†é…                                        â”‚
â”‚  - ç»“æœæ•´åˆå’Œè´¨é‡æ§åˆ¶                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ Subagent1 â”‚  â”‚ Subagent2 â”‚  â”‚ Subagent3 â”‚
    â”‚ å‰ç«¯å¼€å‘  â”‚  â”‚ åç«¯æ¶æ„  â”‚  â”‚ æ•°æ®åº“è®¾è®¡â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚ Subagent4 â”‚  â”‚ Subagent5 â”‚  â”‚ Subagent6 â”‚
    â”‚ API å®‰å…¨  â”‚  â”‚ DevOps   â”‚  â”‚ æµ‹è¯•éƒ¨ç½²  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç‚¹**:
- âš ï¸ **Controller(ä¸»çª—å£)æ°¸è¿œä¸å†™ä»£ç **: åªåšä»»åŠ¡è§„åˆ’ã€åˆ†é…å’Œè¿›åº¦è·Ÿè¸ª
- âš ï¸ **æ‰€æœ‰ä»£ç ç”± Subagent ç¼–å†™**: é€šè¿‡ç‹¬ç«‹çš„ Task tool è°ƒç”¨
- âœ… **Subagent ä¸“æ³¨äºç‰¹å®šé¢†åŸŸ**: èŒè´£å•ä¸€,è¾¹ç•Œæ¸…æ™°
- âœ… **ç‹¬ç«‹ä¸Šä¸‹æ–‡çª—å£**: æ¯ä¸ª Subagent æœ‰ç‹¬ç«‹çš„ token é¢„ç®—
- âœ… **é¿å… token ç´¯ç§¯**: ä¸»çª—å£åªè¯»å–è¾“å‡ºæ–‡æ¡£,ä¸å‚ä¸ä»£ç ç¼–å†™

**æ­£ç¡®å·¥ä½œæµç¨‹**:
```
Controller â†’ Sequential Thinking MCP æ‹†è§£ä»»åŠ¡
         â†’ åˆ›å»ºä»»åŠ¡æ–‡æ¡£
         â†’ å¯åŠ¨ Subagent (Task tool)
         â†’ Subagent å†™ä»£ç å¹¶è¾“å‡ºæ–‡æ¡£
         â†’ Controller è¯»å–è¾“å‡ºæ›´æ–°è¿›åº¦
         â†’ ä¸»çª—å£ Token ä¿æŒä½ä½
```

### 2. æ–‡æ¡£åŒ–çŸ¥è¯†ç®¡ç†(Structured Note-Taking)

**å®ç°æ–¹å¼**:
```
ä»»åŠ¡ A â†’ è¾“å‡ºæ–‡æ¡£ A
              â†“
ä»»åŠ¡ B(è¯»å–æ–‡æ¡£ A)â†’ è¾“å‡ºæ–‡æ¡£ B
                            â†“
ä»»åŠ¡ C(è¯»å–æ–‡æ¡£ B)â†’ è¾“å‡ºæ–‡æ¡£ C
```

**ä¼˜åŠ¿**:
- é¿å…ä¸Šä¸‹æ–‡ç´¯ç§¯(æ¯ä¸ªä»»åŠ¡éƒ½æ˜¯è½»é‡çº§çš„)
- çŸ¥è¯†å¯å¤ç”¨(æ–‡æ¡£å¯è¢«åç»­ä»»åŠ¡æˆ–äººç±»æŸ¥é˜…)
- å¯è¿½æº¯(å®Œæ•´çš„ä»»åŠ¡é“¾è®°å½•)

### 3. ä¸Šä¸‹æ–‡è´¨é‡ç®¡ç†(Context Quality Management)

**æ ¸å¿ƒç†å¿µ**: ä¼˜åŒ–ä¸Šä¸‹æ–‡è´¨é‡è€Œéé™åˆ¶æ•°é‡ï¼ˆåŸºäº Liu et al. 2024 ç ”ç©¶ï¼‰

**ç§‘å­¦ä¾æ®**:
- æ¨¡å‹å¯¹ä¸­é—´ä½ç½®ä¿¡æ¯å¬å›ç‡å¯ä½è‡³40%ï¼ˆ"Lost in the Middle"ç°è±¡ï¼‰
- **ä¿¡æ¯ä½ç½®æ¯”ä¿¡æ¯é‡**å¯¹æ€§èƒ½å½±å“æ›´å¤§
- é€šè¿‡ä½ç½®è®¾è®¡å’Œå·¥å…·å¢å¼ºï¼Œå¯åœ¨å¤§ä¸Šä¸‹æ–‡ä¸­ä¿æŒé«˜æ€§èƒ½

**ä¼˜åŒ–ç­–ç•¥**:
| ç»„ä»¶ | ä¸Šä¸‹æ–‡ç­–ç•¥ | é¢„ä¼°Token | ä¼˜åŒ–é‡ç‚¹ |
|------|-----------|----------|---------|
| Controller | ç²¾ç®€æŒ‡ä»¤ | 40k-60k | åªè¯»è¾“å‡ºæ–‡æ¡£ |
| å•ä¸ª Subagent | ç²¾å‡†åŠ è½½ | 20k-40k | å·¥å…·æ£€ç´¢+ä½ç½®ä¼˜åŒ– |
| å¹¶å‘ Subagent | ç‹¬ç«‹ä¸Šä¸‹æ–‡ | 20kÃ—N | ä¿¡æ¯å¯†åº¦>80% |
| å¯ç”¨æ€»é¢„ç®— | 1,000k tokens | 100% | è´¨é‡ä¼˜å…ˆäºæ•°é‡ |

**å¹¶å‘èƒ½åŠ›**:
- ç®€å•ä»»åŠ¡: 20ä¸ªå¹¶å‘(15KÃ—20 = 300K)
- ä¸­ç­‰ä»»åŠ¡: 15ä¸ªå¹¶å‘(30KÃ—15 = 450K)
- å¤æ‚ä»»åŠ¡: 10ä¸ªå¹¶å‘(60KÃ—10 = 600K)
- åŠ¨æ€è°ƒæ•´: åŸºäºä¿¡æ¯å¯†åº¦è€Œéå›ºå®šç™¾åˆ†æ¯”

### 4. ä»»åŠ¡ç²’åº¦æ§åˆ¶(Task Granularity)

**åŸåˆ™**: ä¸€ä¸ªä»»åŠ¡åªä¿®æ”¹ 1-2 ä¸ªæ–‡ä»¶,æ¯ä¸ªæ–‡ä»¶ 200-300 è¡Œ

**Token ä¼°ç®—å…¬å¼**:
```
å•ä¸ªä»»åŠ¡ Token ä½¿ç”¨ = ä»»åŠ¡æ–‡æ¡£ (5k)
                    + è¯»å–ä»£ç  (6k)
                    + ç”Ÿæˆä»£ç  (10k)
                    + æµ‹è¯•è¯´æ˜ (3k)
                    â‰ˆ 25k tokens
```

**ä»»åŠ¡æ‹†åˆ†ç¤ºä¾‹**:
```
"å®ç°ç”¨æˆ·ç®¡ç†ç³»ç»Ÿ" æ‹†åˆ†ä¸º 4 ä¸ªå°ä»»åŠ¡:
  - ä»»åŠ¡ 1a: å®ç°ç”¨æˆ·è®¤è¯ API(25k)
  - ä»»åŠ¡ 1b: å®ç°æƒé™ç®¡ç†(20k)
  - ä»»åŠ¡ 1c: æ·»åŠ å¯†ç é‡ç½®åŠŸèƒ½(15k)
  - ä»»åŠ¡ 1d: ç¼–å†™æµ‹è¯•ç”¨ä¾‹(20k)
```

---

## æ¶æ„è®¾è®¡

### ç›®å½•ç»“æ„

```
your-web-project/
â”œâ”€â”€ SUBAGENT_DEVELOPMENT_METHODOLOGY.md   # æœ¬æ–‡æ¡£(åŒ…å«æ‰€æœ‰ Subagent è§’è‰²å®šä¹‰)
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ tasks/                            # ä»»åŠ¡è¾“å…¥(ç»™ Subagent çš„æŒ‡ä»¤)
â”‚   â”‚   â”œâ”€â”€ phase1/
â”‚   â”‚   â”œâ”€â”€ phase2/
â”‚   â”‚   â””â”€â”€ phase3/
â”‚   â”‚
â”‚   â”œâ”€â”€ outputs/                          # ä»»åŠ¡è¾“å‡º(Subagent å®Œæˆçš„æˆæœ)
â”‚   â”‚   â”œâ”€â”€ phase1/
â”‚   â”‚   â”œâ”€â”€ phase2/
â”‚   â”‚   â””â”€â”€ phase3/
â”‚   â”‚
â”‚   â”œâ”€â”€ progress/                         # è¿›åº¦è·Ÿè¸ª
â”‚   â”‚   â”œâ”€â”€ phase1-progress.md
â”‚   â”‚   â”œâ”€â”€ phase2-progress.md
â”‚   â”‚   â””â”€â”€ phase3-progress.md
â”‚   â”‚
â”‚   â””â”€â”€ knowledge-base/                   # å¯å¤ç”¨çŸ¥è¯†åº“
â”‚       â”œâ”€â”€ api-design-patterns.md
â”‚       â”œâ”€â”€ database-migration-guide.md
â”‚       â””â”€â”€ deployment-checklist.md
â”‚
â”œâ”€â”€ src/                                  # æºä»£ç 
â”‚   â”œâ”€â”€ frontend/                         # å‰ç«¯ä»£ç  (React/Next.jsç­‰)
â”‚   â”œâ”€â”€ backend/                          # åç«¯ä»£ç  (Node.js/Pythonç­‰)
â”‚   â””â”€â”€ database/                         # æ•°æ®åº“è„šæœ¬å’Œè¿ç§»
â”‚
â””â”€â”€ infrastructure/                       # åŸºç¡€è®¾æ–½ä»£ç  (Terraform/K8sç­‰)
```

### Subagent è§’è‰²å®šä¹‰

> **è¯´æ˜**: ä»¥ä¸‹æ˜¯é€šç”¨ Web é¡¹ç›®çš„ Subagent è§’è‰²æ¨¡æ¿ã€‚å®é™…é¡¹ç›®åº”æ ¹æ®å…·ä½“éœ€æ±‚è°ƒæ•´è§’è‰²å®šä¹‰ã€‚
> å¯å‚è€ƒ `~/.claude/agents/` ç›®å½•ä¸­çš„ agent å®šä¹‰è¿›è¡Œæ‰©å±•ã€‚

#### 1. Frontend Developer ğŸ¨
- **ä¸“é•¿**: React/Next.js/Vue.js,å“åº”å¼UI,çŠ¶æ€ç®¡ç†
- **èŒè´£**: å®ç°å‰ç«¯ç»„ä»¶ã€é¡µé¢å¸ƒå±€ã€ç”¨æˆ·äº¤äº’
- **å·¥ä½œèŒƒå›´**: `src/frontend/`, `src/components/`

#### 2. Backend Architect ğŸ—ï¸
- **ä¸“é•¿**: RESTful/GraphQL API è®¾è®¡,å¾®æœåŠ¡æ¶æ„,äº‹ä»¶é©±åŠ¨ç³»ç»Ÿ
- **èŒè´£**: è®¾è®¡åç«¯æœåŠ¡ã€API æ¥å£ã€æœåŠ¡è¾¹ç•Œå®šä¹‰
- **å·¥ä½œèŒƒå›´**: `src/backend/`, `src/api/`, `src/services/`

#### 3. Database Architect ğŸ—„ï¸
- **ä¸“é•¿**: æ•°æ®å»ºæ¨¡,SQL/NoSQL æ•°æ®åº“é€‰å‹,æ€§èƒ½ä¼˜åŒ–
- **èŒè´£**: è®¾è®¡æ•°æ®åº“ schemaã€ç´¢å¼•ç­–ç•¥ã€è¿ç§»æ–¹æ¡ˆ
- **å·¥ä½œèŒƒå›´**: `src/database/`, `migrations/`

#### 4. API Security Auditor ğŸ”’
- **ä¸“é•¿**: API å®‰å…¨å®¡è®¡,OWASP Top 10,è®¤è¯æˆæƒ
- **èŒè´£**: å®‰å…¨æ¼æ´æ‰«æã€èº«ä»½éªŒè¯è®¾è®¡ã€æ•°æ®ä¿æŠ¤
- **å·¥ä½œèŒƒå›´**: æ‰€æœ‰ API ç«¯ç‚¹ã€è®¤è¯æ¨¡å—

#### 5. DevOps Engineer ğŸš€
- **ä¸“é•¿**: CI/CDã€å®¹å™¨åŒ–ã€Kubernetesã€ç›‘æ§å‘Šè­¦
- **èŒè´£**: éƒ¨ç½²è‡ªåŠ¨åŒ–ã€åŸºç¡€è®¾æ–½å³ä»£ç ã€æ•…éšœæ’æŸ¥
- **å·¥ä½œèŒƒå›´**: `infrastructure/`, `.github/workflows/`, `k8s/`

#### 6. Full-Stack Integration Specialist ğŸ”—
- **ä¸“é•¿**: å‰åç«¯é›†æˆã€API å¯¹æ¥ã€æ•°æ®æµè®¾è®¡
- **èŒè´£**: ç¡®ä¿å‰åç«¯æ— ç¼åä½œã€æ•°æ®ä¸€è‡´æ€§
- **å·¥ä½œèŒƒå›´**: è·¨å‰åç«¯çš„é›†æˆå±‚

#### 7. TDD Red-Phase Specialist ğŸ”´

**ä¸“é•¿**: æµ‹è¯•é©±åŠ¨å¼€å‘,æµ‹è¯•ç”¨ä¾‹è®¾è®¡

**æ ¸å¿ƒèŒè´£**:
- ç¼–å†™å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹æ¥æ˜ç¡®åŠŸèƒ½éœ€æ±‚
- ä»ä½¿ç”¨è€…è§’åº¦è®¾è®¡æ¸…æ™°çš„ API
- è¦†ç›–æ­£å¸¸ã€è¾¹ç•Œã€å¼‚å¸¸åœºæ™¯
- ä½¿ç”¨ AAA æ¨¡å¼(Arrange-Act-Assert)

**æœ€ä½³å®è·µ**:
- âœ… æµ‹è¯•åç§°æ¸…æ™°æè¿°è¡Œä¸º
- âœ… ä¸€ä¸ªæµ‹è¯•åªéªŒè¯ä¸€ä¸ªè¡Œä¸º
- âœ… æµ‹è¯•ç‹¬ç«‹æ€§(ä¸ä¾èµ–å…¶ä»–æµ‹è¯•)
- âœ… è¦†ç›–è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸æƒ…å†µ

**Token é¢„ç®—**: ~23k tokens

#### 8. TDD Green-Phase Developer ğŸŸ¢

**ä¸“é•¿**: æœ€å°åŒ–å®ç°,å¿«é€Ÿè®©æµ‹è¯•é€šè¿‡

**æ ¸å¿ƒèŒè´£**:
- ç”¨æœ€ç®€å•çš„ä»£ç è®©æµ‹è¯•ä»çº¢è‰²å˜ä¸ºç»¿è‰²
- å…è®¸ç¡¬ç¼–ç å’Œ"ç¬¨"æ–¹æ³•
- ä¸“æ³¨å½“å‰æµ‹è¯•,é¿å…è¿‡åº¦è®¾è®¡

**å®ç°ç­–ç•¥**:
1. **ç¡¬ç¼–ç ä¼˜å…ˆ(Fake It)**: ç›´æ¥è¿”å›æµ‹è¯•æœŸæœ›çš„å€¼
2. **æ˜æ˜¾å®ç°(Obvious Implementation)**: å¦‚æœå®ç°å¾ˆç®€å•,ç›´æ¥å†™å‡ºæ¥
3. **ä¸‰è§’æ³•(Triangulation)**: é€šè¿‡å¤šä¸ªæµ‹è¯•ç”¨ä¾‹"ä¸‰è§’å®šä½"æ­£ç¡®å®ç°

**Token é¢„ç®—**: ~23k tokens

#### 9. TDD Refactor Specialist ğŸ”§

**ä¸“é•¿**: ä»£ç é‡æ„,è®¾è®¡ä¼˜åŒ–

**æ ¸å¿ƒèŒè´£**:
- åœ¨ä¿æŒæ‰€æœ‰æµ‹è¯•é€šè¿‡çš„å‰æä¸‹ä¼˜åŒ–ä»£ç è´¨é‡
- æ¶ˆé™¤é‡å¤ä»£ç (DRY åŸåˆ™)
- æå‡å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§
- åº”ç”¨è®¾è®¡æ¨¡å¼å’Œæœ€ä½³å®è·µ

**é‡æ„æŠ€å·§**:
1. **æå–æ–¹æ³•(Extract Method)**: å°†é•¿æ–¹æ³•æ‹†åˆ†ä¸ºå°æ–¹æ³•
2. **æ¶ˆé™¤é‡å¤(Remove Duplication)**: æå–å…¬å…±é€»è¾‘
3. **å¼•å…¥ç­–ç•¥æ¨¡å¼**: æ›¿æ¢æ¡ä»¶åˆ†æ”¯
4. **æ›¿æ¢é­”æ³•æ•°å­—**: ä½¿ç”¨å‘½åå¸¸é‡
5. **ç®€åŒ–æ¡ä»¶è¡¨è¾¾å¼**: æé«˜å¯è¯»æ€§

**Token é¢„ç®—**: ~23k tokens

#### ğŸ’¡ å¦‚ä½•æ‰©å±•å’Œè‡ªå®šä¹‰ Subagent è§’è‰²

##### 1. ä½¿ç”¨ç°æœ‰è§’è‰²æ¨¡æ¿

`~/.claude/agents/` ç›®å½•æä¾›äº†ä¸°å¯Œçš„é¢„å®šä¹‰è§’è‰²æ¨¡æ¿:
- **Performance Engineer**: æ€§èƒ½ä¼˜åŒ–ã€ç¼“å­˜ç­–ç•¥
- **Cloud Architect**: äº‘æ¶æ„è®¾è®¡ã€å¤šäº‘éƒ¨ç½²
- **Data Engineer**: æ•°æ®ç®¡é“ã€ETL æµç¨‹
- **Mobile Developer**: iOS/Android åŸç”Ÿå¼€å‘
- **AI Engineer**: LLM é›†æˆã€RAG ç³»ç»Ÿ

##### 2. ä½•æ—¶åˆ›å»ºæ–°è§’è‰² vs ä½¿ç”¨ç°æœ‰è§’è‰²

| åœºæ™¯ | å»ºè®® |
|------|------|
| æ ‡å‡†çš„å‰ç«¯/åç«¯/æ•°æ®åº“ä»»åŠ¡ | ä½¿ç”¨ç°æœ‰é€šç”¨è§’è‰² |
| ç‰¹å®šæŠ€æœ¯æ ˆ(å¦‚ Stripeã€Kafkaã€Redis) | åˆ›å»ºä¸“é—¨è§’è‰² |
| é¢†åŸŸç‰¹å®šé€»è¾‘(æ”¯ä»˜ã€æ¨èç®—æ³•) | åˆ›å»ºé¢†åŸŸä¸“å®¶è§’è‰² |
| ä¸€æ¬¡æ€§ç®€å•ä»»åŠ¡ | ä½¿ç”¨é€šç”¨è§’è‰²å³å¯ |
| éœ€è¦æ·±åº¦é¢†åŸŸçŸ¥è¯†çš„å¤æ‚æ¨¡å— | å¿…é¡»åˆ›å»ºä¸“é—¨è§’è‰² |

---

## TDD å·¥ä½œæµç¨‹

### ä»€ä¹ˆæ˜¯æµ‹è¯•é©±åŠ¨å¼€å‘ (TDD)?

TDD æ˜¯ä¸€ç§è½¯ä»¶å¼€å‘è¿‡ç¨‹,æ ¸å¿ƒç†å¿µæ˜¯**"å…ˆå†™æµ‹è¯•,å†å†™å®ç°"**ã€‚å¼€å‘è€…é¦–å…ˆç¼–å†™ä¸€ä¸ªç®€çŸ­çš„ã€æè¿°æ–°åŠŸèƒ½æˆ–æ”¹è¿›çš„è‡ªåŠ¨åŒ–æµ‹è¯•ç”¨ä¾‹,è¿™ä¸ªæµ‹è¯•åœ¨æœ€åˆå¿…ç„¶æ˜¯å¤±è´¥çš„ã€‚ç„¶å,å¼€å‘è€…ç¼–å†™æœ€å°‘çš„ä»£ç æ¥è®©è¿™ä¸ªæµ‹è¯•é€šè¿‡ã€‚æœ€å,å¯¹æ–°ä»£ç è¿›è¡Œé‡æ„,ä»¥ç¬¦åˆç¼–ç è§„èŒƒã€‚

### TDD æ ¸å¿ƒæµç¨‹: çº¢-ç»¿-é‡æ„ (Red-Green-Refactor)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TDD å¾ªç¯æµç¨‹                          â”‚
â”‚                                                         â”‚
â”‚   ğŸ”´ RED - å†™ä¸€ä¸ªå¤±è´¥çš„æµ‹è¯•                             â”‚
â”‚   - æ˜ç¡®åŠŸèƒ½éœ€æ±‚å’ŒæœŸæœ›è¡Œä¸º                                â”‚
â”‚   - æµ‹è¯•å¿…é¡»å¤±è´¥(è¯æ˜åŠŸèƒ½å°šæœªå®ç°)                        â”‚
â”‚   - æ€è€ƒè¾“å…¥ã€è¾“å‡ºå’Œè¾¹ç•Œæ¡ä»¶                               â”‚
â”‚   â†“                                                     â”‚
â”‚   ğŸŸ¢ GREEN - å†™æœ€å°‘ä»£ç è®©æµ‹è¯•é€šè¿‡                         â”‚
â”‚   - å¿«é€Ÿå®ç°,ä¸æ±‚å®Œç¾                                    â”‚
â”‚   - åªå…³æ³¨è®©æµ‹è¯•å˜ç»¿                                      â”‚
â”‚   - é¿å…è¿‡åº¦è®¾è®¡                                         â”‚
â”‚   â†“                                                     â”‚
â”‚   ğŸ”§ REFACTOR - ä¼˜åŒ–ä»£ç è´¨é‡                            â”‚
â”‚   - æ¶ˆé™¤é‡å¤ä»£ç                                          â”‚
â”‚   - æé«˜å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§                                  â”‚
â”‚   - ä¼˜åŒ–è®¾è®¡å’Œæ€§èƒ½                                       â”‚
â”‚   - ç¡®ä¿æµ‹è¯•ä¾ç„¶é€šè¿‡                                     â”‚
â”‚   â†“                                                     â”‚
â”‚   â†» å›åˆ° RED,å¼€å§‹ä¸‹ä¸€ä¸ªåŠŸèƒ½                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### TDD æœ€ä½³å®è·µ

**RED é˜¶æ®µ**:
- ä¸€æ¬¡åªæµ‹è¯•ä¸€ä¸ªå°åŠŸèƒ½ç‚¹
- æµ‹è¯•åç§°æ¸…æ™°æè¿°è¡Œä¸º
- ç¡®ä¿æµ‹è¯•å¤±è´¥åå†ç»§ç»­

**GREEN é˜¶æ®µ**:
- å†™æœ€ç®€å•èƒ½é€šè¿‡çš„ä»£ç 
- å…è®¸ç¡¬ç¼–ç å¿«é€ŸéªŒè¯
- ä¸“æ³¨å½“å‰æµ‹è¯•çš„åŠŸèƒ½ç‚¹

**REFACTOR é˜¶æ®µ**:
- é¢‘ç¹è¿è¡Œæµ‹è¯•ç¡®ä¿å®‰å…¨
- å°æ­¥é‡æ„,æ¯æ¬¡ä¸€ä¸ªæ”¹è¿›
- æ¶ˆé™¤é‡å¤ä»£ç (DRY åŸåˆ™)

---

## ä¸Šä¸‹æ–‡ä¼˜åŒ–ç­–ç•¥

> æ ¸å¿ƒç†å¿µï¼šä¼˜åŒ–ä¸Šä¸‹æ–‡è´¨é‡è€Œéé™åˆ¶æ•°é‡ï¼ˆLiu et al. 2024ï¼‰

### ç§‘å­¦åŸºç¡€

**ç ”ç©¶ç»“è®º**ï¼ˆLiu et al. 2024, SWE-bench, Machlab & Battle 2024ï¼‰ï¼š
- ä¸­é—´ä½ç½®ä¿¡æ¯å¬å›ç‡å¯ä½è‡³40%ï¼ˆUå‹æ›²çº¿ï¼‰
- å·¥å…·è®¾è®¡æ¯”çª—å£å¤§å°æ›´é‡è¦ï¼ˆæ€§èƒ½æå‡20%ï¼‰
- ä¿¡æ¯ç»„ç»‡æ–¹å¼å½±å“å¬å›ç‡å·®å¼‚è¾¾40%

### ä¸‰å¤§åŸåˆ™

**1. è´¨é‡ä¼˜å…ˆ**ï¼šåŠ è½½ä»»åŠ¡ç›¸å…³çš„5ä¸ªå‡½æ•°ï¼Œè€Œéæ•´ä¸ªæ–‡ä»¶

**2. ä½ç½®æ•æ„Ÿ**ï¼ˆUå‹æ›²çº¿ ~85%/~40%/~80%ï¼‰ï¼š
- å¼€å¤´åŒºï¼šæ ¸å¿ƒçº¦æŸã€ä»»åŠ¡ç›®æ ‡ï¼ˆ10-15Kï¼‰
- ç»“å°¾åŒºï¼šæŠ€æœ¯è§„èŒƒã€ä»£ç ç‰‡æ®µï¼ˆ20-30Kï¼‰
- ä¸­é—´åŒºï¼šå·¥å…·æŒ‰éœ€æ£€ç´¢ï¼Œé¢„ç•™æ€è€ƒç©ºé—´ >30%

**3. å·¥å…·å¢å¼º**ï¼š
```typescript
tools = {
  get_function_signature(file, func),
  get_class_dependencies(file, class),
  find_usage_examples(func),
  search_codebase(pattern, type)
}
```

### åŠ¨æ€åˆ†é…ç­–ç•¥

| ä»»åŠ¡ç±»å‹ | Token | ä¼˜åŒ–æ‰‹æ®µ |
|---------|-------|---------|
| ç®€å•ä¿®æ”¹ | 15-25K | ç›®æ ‡å‡½æ•°+ç±»å‹å®šä¹‰ |
| ä¸­ç­‰å¤æ‚ | 30-50K | å·¥å…·æ£€ç´¢+ä½ç½®ä¼˜åŒ– |
| å¤æ‚é‡æ„ | 40-60K/é˜¶æ®µ | åˆ†é˜¶æ®µæ‰§è¡Œ |

**å…³é”®æŒ‡æ ‡**ï¼šä¿¡æ¯å¯†åº¦ >80%ï¼Œå‰©ä½™ç©ºé—´ >30%ï¼Œä¸­é—´å¬å›ç‡ >90%

### äº”å±‚ä¼˜åŒ–æœºåˆ¶

#### 1ï¸âƒ£ ä»»åŠ¡ç²’åº¦æ§åˆ¶
```yaml
è§„åˆ™:
  - æ¯ä¸ªä»»åŠ¡åªä¿®æ”¹ 1-2 ä¸ªæ–‡ä»¶
  - æ¯ä¸ªæ–‡ä»¶é™åˆ¶åœ¨ 200-300 è¡Œ
  - æ˜ç¡®è¾“å…¥å’Œè¾“å‡ºèŒƒå›´

Token ä¼°ç®—:
  ä»»åŠ¡æ–‡æ¡£: ~5k
  è¯»å–ä»£ç : ~6k (1-2ä¸ªæ–‡ä»¶)
  ç”Ÿæˆä»£ç : ~10k
  æµ‹è¯•è¯´æ˜: ~3k
  æ€»è®¡: ~25k tokens
```

#### 2ï¸âƒ£ è¾“å…¥æ–‡æ¡£åŒ–
```markdown
# ä»»åŠ¡æ–‡æ¡£æ¨¡æ¿

## Role
[Subagent è§’è‰²åç§°]

## Objective
[ç®€çŸ­çš„ä»»åŠ¡ç›®æ ‡,1-2 å¥è¯]

## Input Files
- path/to/file1.ts (line 100-150)
- path/to/file2.ts (specific function)

## Requirements
1. å…·ä½“è¦æ±‚ 1
2. å…·ä½“è¦æ±‚ 2

## Output Location
docs/outputs/[phase]/output-[id]-[name].md

## Token Budget
é¢„è®¡: 25k tokens
```

#### 3ï¸âƒ£ è¾“å‡ºæ–‡æ¡£åŒ–
```markdown
# è¾“å‡ºæ–‡æ¡£æ¨¡æ¿

## Modified Files
- path/to/file1.ts

## Implementation
[æ ¸å¿ƒä»£ç æ”¹åŠ¨æˆ–å®Œæ•´å®ç°]

## Testing Results
- âœ… å•å…ƒæµ‹è¯•é€šè¿‡
- âœ… é›†æˆæµ‹è¯•é€šè¿‡

## Next Steps
- å»ºè®® 1
- å»ºè®® 2
```

#### 4ï¸âƒ£ å¢é‡å¼å¼€å‘
```
ä»»åŠ¡ 1a â†’ è¾“å‡º 1a (25k)
              â†“
ä»»åŠ¡ 1b (è¯»å–è¾“å‡º 1a,5k) â†’ è¾“å‡º 1b (25k)
                                  â†“
ä»»åŠ¡ 1c (è¯»å–è¾“å‡º 1b,5k) â†’ è¾“å‡º 1c (25k)
```

#### 5ï¸âƒ£ å¹¶å‘æ‰§è¡Œéš”ç¦»
```
ä»»åŠ¡ 1a (ç”¨æˆ·è®¤è¯)   â†’ è¾“å‡º 1a  â”€â”
ä»»åŠ¡ 1b (æ•°æ®åº“è®¾è®¡)  â†’ è¾“å‡º 1b  â”€â”¤
ä»»åŠ¡ 1c (å‰ç«¯UI)     â†’ è¾“å‡º 1c  â”€â”¼â†’ Controller æ•´åˆ â†’ å†³ç­–
ä»»åŠ¡ 1d (APIå®‰å…¨)    â†’ è¾“å‡º 1d  â”€â”˜

æ¯ä¸ªä»»åŠ¡ç‹¬ç«‹ä¸Šä¸‹æ–‡: 25k Ã— 4 = 100k tokens
```

### ä¸Šä¸‹æ–‡å¥åº·åº¦ç›‘æ§

ä¸»åŠ¨éªŒè¯ AI æ˜¯å¦çœŸæ­£ç†è§£å…³é”®ä¿¡æ¯ã€‚

#### "Needle in a Haystack"æµ‹è¯•

åœ¨ä»»åŠ¡è¦æ±‚ä¸­é—´åŸ‹å…¥æµ‹è¯•çº¦æŸï¼Œæ£€æŸ¥å¬å›ç‡ï¼š
```markdown
3. **[æµ‹è¯•çº¦æŸ]** å‡½æ•°åå¿…é¡»ä»¥ `auth_` å¼€å¤´  â† ä¸­é—´ä½ç½®
```

**ç›®æ ‡**ï¼šä¸­é—´ä¿¡æ¯å¬å›ç‡ > 90%

#### å…³é”®æŒ‡æ ‡

| æŒ‡æ ‡ | é˜ˆå€¼ | ä¼˜åŒ–æ–¹å‘ |
|-----|------|---------|
| ä¿¡æ¯å¯†åº¦ | >80% | åˆ é™¤æ— å…³èƒŒæ™¯ |
| ä¸­é—´å¬å›ç‡ | >90% | è°ƒæ•´ä¿¡æ¯ä½ç½® |
| å‰©ä½™ç©ºé—´ | >30% | å‡å°‘é¢„å¡«å…… |
| é‡å¯ç‡ | <5% | æ‹†åˆ†ä»»åŠ¡ |

#### ä¼˜åŒ–ä¿¡å·

- **åå¤è¯¢é—®ä»»åŠ¡ç›®æ ‡** â†’ Objective ç§»åˆ°å¼€å¤´å¹¶å¼ºè°ƒ
- **è¿åå®ªæ³•çº¦æŸ** â†’ å®ªæ³•ç²¾ç®€ä¸ºæ ¸å¿ƒ10æ¡ï¼Œæ”¾System Promptå¼€å¤´
- **ç®€å•ä»»åŠ¡Token >70%** â†’ æ£€æŸ¥Input Filesæ˜¯å¦æŒ‡å®šå…·ä½“è¡Œå·/å‡½æ•°å

---

## æ–‡æ¡£åŒ–å·¥ä½œæµ

### ä»»åŠ¡æ–‡æ¡£(Task Document)

**æ ‡å‡†æ ¼å¼**:
```markdown
# Task [ID]: [ä»»åŠ¡åç§°]

## Role
[Subagent è§’è‰²åç§°]

## Objective
[1-2 å¥è¯çš„ä»»åŠ¡ç›®æ ‡]

## Context
[å¿…è¦çš„èƒŒæ™¯ä¿¡æ¯]

## Input Files
- src/path/to/file1.ts (line 100-150)

## Requirements
1. åŠŸèƒ½è¦æ±‚ 1
2. **âš ï¸ å¿…é¡»æ·»åŠ ç»ˆç«¯è°ƒè¯•æ—¥å¿—**

## Constraints
- ä¿æŒä¸ç°æœ‰æ¥å£å…¼å®¹
- éµå¾ªé¡¹ç›®ä»£ç è§„èŒƒ

## Output Location
docs/outputs/[phase]/output-[id]-[name].md

## Token Budget
é¢„è®¡: 25k tokens

## Success Criteria
- [ ] åŠŸèƒ½å®ç°å®Œæ•´
- [ ] æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å®Œå–„
```

### è¾“å‡ºæ–‡æ¡£(Output Document)

**æ ‡å‡†æ ¼å¼**:
```markdown
# Output [ID]: [ä»»åŠ¡åç§°] - å®ç°æŠ¥å‘Š

## Status
âœ… å·²å®Œæˆ / âš ï¸ éƒ¨åˆ†å®Œæˆ / âŒ å¤±è´¥

## Modified Files
- src/path/to/file1.ts

## Implementation

### æ ¸å¿ƒæ”¹åŠ¨
[å…³é”®ä»£ç ç‰‡æ®µæˆ–å®Œæ•´å®ç°]

### è®¾è®¡å†³ç­–
- å†³ç­– 1: [åŸå› ]

## Testing

### æµ‹è¯•ç»“æœ
- âœ… æµ‹è¯• A é€šè¿‡

## Usage
[ä»£ç ä½¿ç”¨ç¤ºä¾‹]

## Next Steps
- å»ºè®® 1

## Token Usage
å®é™…ä½¿ç”¨: 23k tokens (é¢„ç®—: 25k)
```

### è¿›åº¦æ–‡æ¡£(Progress Document)

**æ ‡å‡†æ ¼å¼**:
```markdown
# Phase 1: [é˜¶æ®µåç§°] - è¿›åº¦è·Ÿè¸ª

## æ€»ä½“çŠ¶æ€
ğŸ”„ è¿›è¡Œä¸­ | å®Œæˆåº¦: 60%

## ä»»åŠ¡ç»„ A(å¹¶å‘æ‰§è¡Œ)

### Task 1a: ç”¨æˆ·è®¤è¯ API
- çŠ¶æ€: âœ… å·²å®Œæˆ
- Subagent: Backend Architect
- è¾“å‡º: docs/outputs/phase1/output-1a.md

## å†³ç­–è®°å½•
- [2025-10-01] å†³å®šä½¿ç”¨ JWT è®¤è¯æ–¹æ¡ˆ

## é£é™©å’Œé—®é¢˜
- âš ï¸ Session ç®¡ç†æ–¹æ¡ˆå¾…å®š

## ä¸‹ä¸€æ­¥è¡ŒåŠ¨
1. å®Œæˆå‰©ä½™ä»»åŠ¡
2. é›†æˆæµ‹è¯•
```

---

## å®Œæ•´å·¥ä½œæµç¨‹

### Phase 0: MCP ç¯å¢ƒå‡†å¤‡

#### Step 1: å®‰è£…å’Œé…ç½® Sequential Thinking MCP

**å¿«é€Ÿå®‰è£…(æ¨è)**:

```bash
claude mcp add-json "sequential-thinking" '{"command":"npx","args":["-y","@modelcontextprotocol/server-sequential-thinking"]}'
```

**éªŒè¯å®‰è£…**:

é‡å¯ Claude Code å,åº”è¯¥èƒ½çœ‹åˆ° `create_thinking_process` ç­‰ MCP å·¥å…·ã€‚

#### Step 2: ä½¿ç”¨ MCP è¿›è¡Œä»»åŠ¡è§„åˆ’

**å·¥ä½œæµç¨‹**:
```
å¤æ‚éœ€æ±‚
  â†“
è°ƒç”¨ Sequential Thinking MCP
  â†“
MCP åˆ†æå’Œæ‹†åˆ†ä»»åŠ¡
  â†“
è¯†åˆ«ä»»åŠ¡ä¾èµ–å…³ç³»
  â†“
ç”Ÿæˆä»»åŠ¡æ‰§è¡Œè®¡åˆ’
  â†“
Controller æ ¹æ®è®¡åˆ’å¹¶å‘å¯åŠ¨ Subagent
```

### Phase 1: å‡†å¤‡é˜¶æ®µ

#### Step 1: åˆ›å»º Subagent è§’è‰²å®šä¹‰
```bash
docs/agents/
â”œâ”€â”€ frontend-developer.md
â”œâ”€â”€ backend-architect.md
â”œâ”€â”€ database-architect.md
â””â”€â”€ tdd-red-phase-specialist.md
```

#### Step 2: ä»»åŠ¡åˆ†è§£
Controller(æˆ‘)ä½¿ç”¨ Sequential Thinking åˆ†æé¡¹ç›®,åˆ†è§£ä¸ºå°ä»»åŠ¡:
```
Phase 1: ç”¨æˆ·ç®¡ç†æ¨¡å—
  â”œâ”€â”€ ä»»åŠ¡ç»„ A(å¹¶å‘)
  â”‚   â”œâ”€â”€ Task 1a: ç”¨æˆ·è®¤è¯ API
  â”‚   â”œâ”€â”€ Task 1b: æ•°æ®åº“ Schema è®¾è®¡
  â”‚   â””â”€â”€ Task 1c: å‰ç«¯ç™»å½•ç»„ä»¶
  â””â”€â”€ ä»»åŠ¡ç»„ B(ä¾èµ– A)
      â””â”€â”€ Task 2a: æƒé™ç®¡ç†ç³»ç»Ÿ
```

### Phase 2: æ‰§è¡Œé˜¶æ®µ

#### Step 1: åˆ›å»ºä»»åŠ¡æ–‡æ¡£
Controller ä½¿ç”¨ Write tool åˆ›å»º:
```
docs/tasks/phase1/task-1a-user-auth-api.md
docs/tasks/phase1/task-1b-database-schema-design.md
```

#### Step 2: å¹¶å‘å¯åŠ¨ Subagent

**âš ï¸ å…³é”®åŸåˆ™: å¿…é¡»å¹¶è¡Œå¤šå¼€ Subagent è¿›è¡Œå¹¶å‘å¼€å‘**

**å¹¶è¡Œå¼€å‘è§„åˆ™**:
1. **å¼ºåˆ¶å¹¶å‘**: æ‰€æœ‰ç‹¬ç«‹ä»»åŠ¡å¿…é¡»åœ¨åŒä¸€ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨
2. **æ— æ•°é‡é™åˆ¶**: å¹¶å‘ Subagent æ•°é‡æ— ä¸Šé™
3. **ä¾èµ–æ£€æŸ¥**: åªæœ‰å­˜åœ¨ä¾èµ–å…³ç³»çš„ä»»åŠ¡æ‰èƒ½ä¸²è¡Œ
4. **æ•ˆç‡ä¼˜å…ˆ**: å¹¶å‘å¼€å‘æ•ˆç‡ä¸å¹¶å‘æ•°é‡æˆæ­£æ¯”

**å¹¶å‘å¯åŠ¨ç¤ºä¾‹**:
```typescript
Controller åœ¨å•ä¸ªæ¶ˆæ¯ä¸­å¯åŠ¨æ‰€æœ‰ç‹¬ç«‹ä»»åŠ¡(æ— æ•°é‡é™åˆ¶):

å°è§„æ¨¡å¹¶å‘(4 ä¸ªä»»åŠ¡): Task 1-4 åŒæ—¶å¯åŠ¨
ä¸­è§„æ¨¡å¹¶å‘(8 ä¸ªä»»åŠ¡): Task 1-8 ä¸€æ¬¡æ€§å¯åŠ¨,æ•ˆç‡æå‡ 8 å€
å¤§è§„æ¨¡å¹¶å‘(15+ ä»»åŠ¡): æ‰€æœ‰ç‹¬ç«‹ä»»åŠ¡å¹¶è¡Œå¤„ç†
```

**Token ä½¿ç”¨**: N Ã— 25k tokens
- 4 ä¸ªä»»åŠ¡: 100k tokens
- 8 ä¸ªä»»åŠ¡: 200k tokens
- åªè¦åœ¨ 1M tokens é¢„ç®—å†…,å¯ä»¥å¹¶å‘ä»»æ„æ•°é‡çš„ä»»åŠ¡

### Phase 3: æ•´åˆé˜¶æ®µ

#### Step 1: æ”¶é›†è¾“å‡ºæ–‡æ¡£

**Controller è¯»å–è¾“å‡ºæ–‡æ¡£**:

```bash
Read docs/outputs/phase1/output-1a-auth-api-implementation.md
Read docs/outputs/phase1/output-1b-database-schema.md
```

**ä¼˜åŠ¿**:
- è¾“å‡ºæ–‡æ¡£å·²åŒ…å«å®ç°æ‘˜è¦å’Œå…³é”®ä¿¡æ¯(~5k tokens)
- ä¿æŒä¸»çª—å£ token æ¶ˆè€—åœ¨ä½ä½

#### Step 2: æ›´æ–°è¿›åº¦æ–‡æ¡£

âš ï¸ **æ¯æ¬¡ Subagent å®Œæˆä»»åŠ¡åå¿…é¡»ç«‹å³æ›´æ–°è¿›åº¦**

Controller æ›´æ–° `docs/progress/phase1-progress.md`

### Phase 4: è¿­ä»£

åŸºäºå‰ä¸€é˜¶æ®µçš„è¾“å‡º,è§„åˆ’ä¸‹ä¸€é˜¶æ®µä»»åŠ¡,é‡å¤ Phase 1-3ã€‚

---

## ä¼˜ç‚¹æ€»ç»“

### âœ… 1. Token ä½¿ç”¨é«˜æ•ˆ
- Controller åªè¯»è¾“å‡ºæ–‡æ¡£(~5k tokens),ä¸è¯»æºä»£ç 
- æ¯ä¸ª Subagent ç‹¬ç«‹ä¸Šä¸‹æ–‡,äº’ä¸å¹²æ‰°
- æ–‡æ¡£åŒ–å¤ç”¨,é¿å…é‡å¤ç”Ÿæˆç›¸åŒå†…å®¹

### âœ… 2. å¹¶å‘æ‰§è¡Œé«˜æ•ˆ
- N ä¸ªç‹¬ç«‹ä»»åŠ¡å¹¶å‘æ‰§è¡Œ,æ•ˆç‡æå‡ N å€
- æ— å¹¶å‘æ•°é‡ä¸Šé™,åªå— 1M token é¢„ç®—é™åˆ¶
- Sequential Thinking MCP è‡ªåŠ¨è¯†åˆ«å¹¶å‘æœºä¼š

### âœ… 3. çŸ¥è¯†å¯å¤ç”¨
- è¾“å‡ºæ–‡æ¡£æˆä¸ºçŸ¥è¯†åº“,åç»­ä»»åŠ¡å¯ç›´æ¥å¼•ç”¨
- è¿›åº¦æ–‡æ¡£è®°å½•å†³ç­–,é¿å…é‡å¤è®¨è®º
- å¯è¿½æº¯çš„ä»»åŠ¡é“¾

### âœ… 4. è´¨é‡å¯æ§
- ä¸“ä¸š Subagent ç¡®ä¿é¢†åŸŸè´¨é‡
- TDD å·¥ä½œæµç¡®ä¿æµ‹è¯•è¦†ç›–
- æ–‡æ¡£åŒ–è¾“å‡ºä¾¿äºå®¡æŸ¥

### âœ… 5. æ˜“äºåä½œ
- æ¸…æ™°çš„ä»»åŠ¡åˆ†å·¥å’Œè¾“å‡º
- æ–‡æ¡£åŒ–æ²Ÿé€š,é™ä½åä½œæˆæœ¬
- è¿›åº¦é€æ˜,ä¾¿äºè·Ÿè¸ª

### âœ… 6. å®¹é”™æ€§å¼º
- ä»»åŠ¡å¤±è´¥ä¸å½±å“å…¶ä»–ä»»åŠ¡
- å¯å•ç‹¬é‡è¯•å¤±è´¥ä»»åŠ¡
- æ–‡æ¡£ä¿ç•™å¤±è´¥ä¿¡æ¯

### âœ… 7. å¯æ‰©å±•æ€§
- åŠ¨æ€æ·»åŠ  Subagent è§’è‰²
- æ”¯æŒå¤æ‚é¡¹ç›®çš„å¤šé˜¶æ®µå¼€å‘
- é€‚åº”ä¸åŒæŠ€æœ¯æ ˆå’Œåœºæ™¯

### âœ… 8. æˆæœ¬ä¼˜åŒ–
- å‡å°‘æ— æ•ˆ token æ¶ˆè€—
- å¹¶å‘æå‡å¼€å‘æ•ˆç‡
- çŸ¥è¯†å¤ç”¨é™ä½é‡å¤æˆæœ¬

---

## æœ€ä½³å®è·µ

### 0. æ ¸å¿ƒå·¥ä½œæµå¼ºåˆ¶è§„èŒƒ âš ï¸

**Controller æ ‡å‡†å·¥ä½œæµ**:

```
1. ä½¿ç”¨ Sequential Thinking MCP åˆ†æä»»åŠ¡
2. åˆ›å»ºä»»åŠ¡æ–‡æ¡£(Write tool)
3. å¹¶å‘å¯åŠ¨ Subagent (Task tool Ã— N)
4. ç­‰å¾… Subagent å®Œæˆ
5. è¯»å–è¾“å‡ºæ–‡æ¡£(Read tool)
6. æ›´æ–°è¿›åº¦æ–‡æ¡£(Edit/Write tool)
7. å†³ç­–ä¸‹ä¸€æ­¥(Sequential Thinking MCP)
```

### 1. ä»»åŠ¡è®¾è®¡åŸåˆ™

**æ¨èåšæ³•**:
- **å•ä¸€èŒè´£**: ä¸€ä¸ªä»»åŠ¡åªåšä¸€ä»¶äº‹
- **æ˜ç¡®è¾¹ç•Œ**: æ¸…æ™°çš„è¾“å…¥å’Œè¾“å‡º
- **å¯æµ‹è¯•**: ä»»åŠ¡å®Œæˆåå¯éªŒè¯
- **æ–‡æ¡£å…ˆè¡Œ**: å…ˆå†™ä»»åŠ¡æ–‡æ¡£,å†å¯åŠ¨ Subagent
- **åˆç†ç²’åº¦**: æ¯ä¸ªä»»åŠ¡ä¿®æ”¹ 1-2 ä¸ªæ–‡ä»¶
- **æ˜ç¡®ç›®æ ‡**: è®¾ç½®æ¸…æ™°çš„æˆåŠŸæ ‡å‡†

### 2. ä»£ç è´¨é‡å’Œæ³¨é‡Šè§„èŒƒ ğŸ“

**æ ¸å¿ƒåŸåˆ™**: ä»£ç å¿…é¡»åŒ…å«è¯¦ç»†çš„æ³¨é‡Šã€å®ç°çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ã€å…·å¤‡ç”Ÿäº§ç¯å¢ƒè´¨é‡

**å¿…é¡»æ·»åŠ æ³¨é‡Šçš„åœ°æ–¹**:
- æ–‡ä»¶å¤´éƒ¨æ³¨é‡Š(æè¿°ã€åŠŸèƒ½ã€ä¾èµ–)
- ç±»å’Œæ¥å£æ³¨é‡Š(ç”¨æ³•ç¤ºä¾‹)
- å‡½æ•°æ³¨é‡Š(å‚æ•°ã€è¿”å›å€¼ã€å¼‚å¸¸)
- å¤æ‚é€»è¾‘æ³¨é‡Š(ç®—æ³•è¯´æ˜)
- TODO å’Œ FIXME æ³¨é‡Š

### 3. è°ƒè¯•æ—¥å¿—è§„èŒƒ ğŸ”

**æ ¸å¿ƒåŸåˆ™**: æ‰€æœ‰ä»£ç å¿…é¡»è¾“å‡ºç»ˆç«¯è°ƒè¯•æ—¥å¿—,åŒ…æ‹¬å‰ç«¯å’Œåç«¯ä»£ç 

**æ—¥å¿—è¦æ±‚**:
- åç«¯æ—¥å¿—ä½¿ç”¨ `console.log/console.error` è¾“å‡ºåˆ°ç»ˆç«¯
- å‰ç«¯æ—¥å¿—ä½¿ç”¨æœåŠ¡ç«¯æ—¥å¿—æˆ– Node.js æ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯
- å…³é”®èŠ‚ç‚¹å¿…é¡»è®°å½•: å‡½æ•°å…¥å£ã€å‡ºå£ã€å…³é”®åˆ†æ”¯ã€é”™è¯¯å¤„ç†
- åŒ…å«ä¸Šä¸‹æ–‡ä¿¡æ¯: å‚æ•°å€¼ã€çŠ¶æ€ä¿¡æ¯ã€æ—¶é—´æˆ³
- é”™è¯¯å¿…é¡»è¾“å‡ºå®Œæ•´å †æ ˆ

**æ—¥å¿—æ ¼å¼ç¤ºä¾‹**:
```typescript
console.log('[INFO] [ModuleName] Operation started:', params);
console.error('[ERROR] [ModuleName] Failed:', error.message, error.stack);
```

### 4. æµ‹è¯•éªŒè¯è§„èŒƒ âœ…

**æ ¸å¿ƒåŸåˆ™**: æ¯æ¬¡ä»£ç å®ç°å®Œæˆå,å¿…é¡»è¿è¡Œé¡¹ç›®å¹¶æ£€æŸ¥ç»ˆç«¯æ—¥å¿—

**éªŒè¯æ¸…å•**:
- é¡¹ç›®èƒ½å¤ŸæˆåŠŸå¯åŠ¨,æ— å¯åŠ¨é”™è¯¯
- ç»ˆç«¯æ—¥å¿—ä¸­æ²¡æœ‰ ERROR çº§åˆ«çš„è¾“å‡º
- æ–°åŠŸèƒ½çš„æ—¥å¿—è¾“å‡ºå®Œæ•´ä¸”æ¸…æ™°
- é”™è¯¯å¤„ç†è·¯å¾„æœ‰æ­£ç¡®çš„æ—¥å¿—è¾“å‡º
- å‰ç«¯ä»£ç çš„æ—¥å¿—åœ¨ç»ˆç«¯å¯è§

### 5. æ–‡æ¡£ç¼–å†™åŸåˆ™

- **ç®€æ´æ˜ç¡®**: é¿å…å†—é•¿æè¿°
- **ç»“æ„åŒ–**: ä½¿ç”¨æ ‡é¢˜ã€åˆ—è¡¨ã€ä»£ç å—
- **å¯æ“ä½œ**: åŒ…å«å…·ä½“çš„æ­¥éª¤å’Œç¤ºä¾‹
- **åŠæ—¶æ›´æ–°**: ä»£ç å˜æ›´ååŒæ­¥æ›´æ–°æ–‡æ¡£

### 6. Subagent è§’è‰²è®¾è®¡

- **èŒè´£å•ä¸€**: æ¯ä¸ªè§’è‰²ä¸“æ³¨ä¸€ä¸ªé¢†åŸŸ
- **è¾¹ç•Œæ¸…æ™°**: å®šä¹‰æ˜ç¡®çš„å·¥ä½œèŒƒå›´
- **å¯å¤ç”¨**: è®¾è®¡é€šç”¨çš„è§’è‰²å®šä¹‰
- **æ–‡æ¡£å®Œæ•´**: åŒ…å«ä¸“é•¿ã€èŒè´£ã€å·¥ä½œèŒƒå›´ã€å‚è€ƒ

### 7. Controller å†³ç­–åŸåˆ™

- **ä½¿ç”¨ MCP åˆ†æ**: å¤æ‚ä»»åŠ¡å¿…é¡»ä½¿ç”¨ Sequential Thinking MCP
- **è¯»æ–‡æ¡£ä¸è¯»ä»£ç **: åªè¯»å–è¾“å‡ºæ–‡æ¡£,ä¸æŸ¥çœ‹æºä»£ç 
- **å¹¶å‘ä¼˜å…ˆ**: ç‹¬ç«‹ä»»åŠ¡å¿…é¡»å¹¶å‘æ‰§è¡Œ
- **è®°å½•å†³ç­–**: å°†é‡è¦å†³ç­–è®°å½•åˆ°è¿›åº¦æ–‡æ¡£

### 8. ä¸Šä¸‹æ–‡è´¨é‡ç›‘æ§

**å…³é”®æŒ‡æ ‡**:
- **ä¿¡æ¯å¯†åº¦**: ä»»åŠ¡ç›¸å…³token / æ€»token > 80%
- **ä¸­é—´å¬å›ç‡**: é€šè¿‡åŸ‹ç‚¹æµ‹è¯•éªŒè¯ > 90%
- **å‰©ä½™æ€è€ƒç©ºé—´**: ç”Ÿæˆå®Œæˆæ—¶å‰©ä½™ > 30%
- **Subagenté‡å¯ç‡**: å› ä¸Šä¸‹æ–‡é—®é¢˜é‡å¯ < 5%

**ä¼˜åŒ–æªæ–½**:
- **ä»»åŠ¡å‰è§„åˆ’**: ä½¿ç”¨ Sequential Thinking è¯„ä¼°å¤æ‚åº¦
- **ä½ç½®ä¼˜åŒ–**: æ ¸å¿ƒä¿¡æ¯æ”¾å¼€å¤´/ç»“å°¾ï¼Œé¿å…ä¸­é—´
- **å·¥å…·å¢å¼º**: æä¾›ä¸“ç”¨æ£€ç´¢å·¥å…·ï¼Œå‡å°‘é¢„å¡«å……
- **åŸ‹ç‚¹æµ‹è¯•**: åœ¨è¦æ±‚ä¸­æ’å…¥æµ‹è¯•çº¦æŸéªŒè¯å¬å›
- **æŒç»­æ”¹è¿›**: åˆ†æå¤±è´¥æ¡ˆä¾‹ï¼Œä¼˜åŒ–ä¸Šä¸‹æ–‡è®¾è®¡

### 9. æœ¬åœ°å¼€å‘ç¯å¢ƒé…ç½®è§„èŒƒ ğŸ–¥ï¸

**æ¨èé…ç½®**:
- åº”ç”¨ä»£ç (å‰ç«¯/åç«¯): æœ¬åœ°è¿è¡Œ,æ”¯æŒçƒ­æ›´æ–°
- åŸºç¡€è®¾æ–½(æ•°æ®åº“/Redis): Docker è¿è¡Œ,ç»Ÿä¸€ç‰ˆæœ¬
- ç”Ÿäº§ç¯å¢ƒ: å®Œå…¨å®¹å™¨åŒ–

**æœ€ä½³å®è·µ**:
- åˆ†ç¦»å…³æ³¨ç‚¹: åº”ç”¨ä»£ç (æœ¬åœ°) vs åŸºç¡€è®¾æ–½(Docker)
- ç»Ÿä¸€ç‰ˆæœ¬: å›¢é˜Ÿä½¿ç”¨ç›¸åŒçš„ Docker é•œåƒç‰ˆæœ¬
- å¿«é€Ÿè¿­ä»£: æœ¬åœ°è¿è¡Œæ”¯æŒçƒ­æ›´æ–°
- æ–‡æ¡£åŒ–é…ç½®: åœ¨ README.md ä¸­è¯´æ˜å¯åŠ¨æ­¥éª¤

### 10. MCP ä½¿ç”¨è§„èŒƒ ğŸ”§

**æ ¸å¿ƒåŸåˆ™**: ä½¿ç”¨ Sequential Thinking MCP è¿›è¡Œä»»åŠ¡è§„åˆ’å’Œæ‹†åˆ†æ˜¯å¼ºåˆ¶è¦æ±‚

**å¿…é¡»ä½¿ç”¨ MCP çš„åœºæ™¯**:
- å¤æ‚éœ€æ±‚åˆ†æ(æ¶‰åŠå¤šä¸ªæ¨¡å—)
- ä»»åŠ¡æ‹†åˆ†è§„åˆ’(å¯åŠ¨ Subagent ä¹‹å‰)
- ä¾èµ–å…³ç³»åˆ†æ
- å¹¶å‘æœºä¼šè¯†åˆ«

**MCP åˆ†æè´¨é‡æ ‡å‡†**:
- è¯†åˆ«æ‰€æœ‰å…³é”®æ¨¡å—
- æ­£ç¡®åˆ†æä¾èµ–å…³ç³»
- åˆ’åˆ†åˆç†çš„ä»»åŠ¡æ‰¹æ¬¡
- è¯„ä¼°æŠ€æœ¯é£é™©
- ä¼°ç®— Token å’Œæ—¶é—´æˆæœ¬
- æä¾›å¹¶å‘æ‰§è¡Œå»ºè®®

---

## TDD ä¸ Subagent æ–¹æ³•è®ºæ•´åˆ

### æ•´åˆä¼˜åŠ¿

1. **èŒè´£åˆ†ç¦»**: RED/GREEN/REFACTOR åˆ†åˆ«ç”±ä¸“é—¨çš„ Subagent å¤„ç†
2. **å¹¶å‘æµ‹è¯•**: å¤šä¸ªåŠŸèƒ½çš„ TDD å¾ªç¯å¯ä»¥å¹¶å‘æ‰§è¡Œ
3. **çŸ¥è¯†ç§¯ç´¯**: æµ‹è¯•ç”¨ä¾‹å’Œé‡æ„ç»éªŒæ–‡æ¡£åŒ–
4. **è´¨é‡ä¿è¯**: TDD ç¡®ä¿æµ‹è¯•è¦†ç›–,Subagent ç¡®ä¿é¢†åŸŸè´¨é‡

### å®é™…å·¥ä½œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Controller (Sequential Thinking)              â”‚
â”‚         åˆ†æéœ€æ±‚ â†’ åˆ†è§£ä¸º TDD ä»»åŠ¡ â†’ åˆ†é…è§’è‰²             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
    â”‚  Red ğŸ”´   â”‚â†’ â”‚ Green ğŸŸ¢  â”‚â†’ â”‚RefactorğŸ”§ â”‚
    â”‚  å†™æµ‹è¯•    â”‚  â”‚  å†™å®ç°    â”‚  â”‚  ä¼˜åŒ–ä»£ç   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### TDD ä»»åŠ¡æ–‡æ¡£æ¨¡æ¿

```markdown
# Task [ID]: [åŠŸèƒ½åç§°] - TDD å¾ªç¯

## Phase: RED ğŸ”´
### Role
TDD Red-Phase Specialist

### Objective
ä¸º [åŠŸèƒ½åç§°] ç¼–å†™å¤±è´¥çš„æµ‹è¯•ç”¨ä¾‹

### Requirements
1. ç¼–å†™æµ‹è¯•ç”¨ä¾‹æè¿°é¢„æœŸè¡Œä¸º
2. ç¡®ä¿æµ‹è¯•å¤±è´¥(åŠŸèƒ½æœªå®ç°)
3. è¦†ç›–æ­£å¸¸æƒ…å†µå’Œè¾¹ç•Œæƒ…å†µ

### Output Location
docs/outputs/tdd/[feature]-red-phase.md

---

## Phase: GREEN ğŸŸ¢
### Role
TDD Green-Phase Developer

### Objective
ç¼–å†™æœ€å°‘ä»£ç è®©æµ‹è¯•é€šè¿‡

### Input
- æµ‹è¯•æ–‡ä»¶: tests/[feature].test.ts
- RED é˜¶æ®µè¾“å‡º: docs/outputs/tdd/[feature]-red-phase.md

### Output Location
docs/outputs/tdd/[feature]-green-phase.md

---

## Phase: REFACTOR ğŸ”§
### Role
TDD Refactor Specialist

### Objective
ä¼˜åŒ–ä»£ç è´¨é‡,ä¿æŒæµ‹è¯•é€šè¿‡

### Input
- GREEN é˜¶æ®µè¾“å‡º: docs/outputs/tdd/[feature]-green-phase.md

### Output Location
docs/outputs/tdd/[feature]-refactor-phase.md
```

### TDD å¹¶å‘æ‰§è¡Œç­–ç•¥

å¯¹äºå¤šä¸ªç‹¬ç«‹åŠŸèƒ½,å¯ä»¥å¹¶å‘æ‰§è¡Œå¤šä¸ª TDD å¾ªç¯:

```
åŠŸèƒ½ A: RED â†’ GREEN â†’ REFACTOR  â”€â”
åŠŸèƒ½ B: RED â†’ GREEN â†’ REFACTOR  â”€â”¤
åŠŸèƒ½ C: RED â†’ GREEN â†’ REFACTOR  â”€â”¼â†’ Controller æ•´åˆ
åŠŸèƒ½ D: RED â†’ GREEN â†’ REFACTOR  â”€â”˜

æ¯ä¸ªåŠŸèƒ½ç‹¬ç«‹çš„ TDD å¾ªç¯,äº’ä¸å¹²æ‰°
```

---

## å®é™…åº”ç”¨ç¤ºä¾‹

### æ¡ˆä¾‹: ç”¨æˆ·è®¤è¯ API å®ç°(ä½¿ç”¨ TDD æ–¹æ³•)

**ä»»åŠ¡æ–‡æ¡£**:

```markdown
# Task 1a: ç”¨æˆ·è®¤è¯ API ç«¯ç‚¹

## Role
Backend Architect

## Objective
å®ç°ç”¨æˆ·æ³¨å†Œå’Œç™»å½• API ç«¯ç‚¹,ä½¿ç”¨ JWT è®¤è¯

## Input Files
- src/services/auth/ (æ–°å»º)
- src/routes/auth.ts (æ–°å»º)

## Requirements
1. POST /api/auth/register - ç”¨æˆ·æ³¨å†Œ
2. POST /api/auth/login - ç”¨æˆ·ç™»å½•
3. ä½¿ç”¨ bcrypt åŠ å¯†å¯†ç 
4. ç”Ÿæˆ JWT token (24h æœ‰æ•ˆæœŸ)
5. **âš ï¸ å¿…é¡»æ·»åŠ ç»ˆç«¯è°ƒè¯•æ—¥å¿—**

## Constraints
- å¯†ç è‡³å°‘ 8 ä½
- Email æ ¼å¼éªŒè¯
- é˜²æ­¢é‡å¤æ³¨å†Œ

## Output Location
docs/outputs/phase1/output-1a-auth-api.md

## Token Budget
é¢„è®¡: 25k tokens

## Success Criteria
- æ³¨å†Œå’Œç™»å½•æ¥å£å®ç°
- å¯†ç æ­£ç¡®åŠ å¯†
- JWT token ç”Ÿæˆ
- å•å…ƒæµ‹è¯•è¦†ç›–ç‡ >80%
- ç»ˆç«¯æ—¥å¿—å®Œæ•´
```

**è¾“å‡ºæ–‡æ¡£**:

```markdown
# Output 1a: ç”¨æˆ·è®¤è¯ API - å®ç°æŠ¥å‘Š

## Status
âœ… å·²å®Œæˆ

## Modified Files
- src/services/auth/auth.service.ts (æ–°å»º,150è¡Œ)
- src/routes/auth.ts (æ–°å»º,50è¡Œ)
- tests/auth.test.ts (æ–°å»º,100è¡Œ)

## Implementation

### æ ¸å¿ƒæ”¹åŠ¨
å®ç°äº† AuthService ç±»,åŒ…å«æ³¨å†Œå’Œç™»å½•æ–¹æ³•:
- `register(email, password)`: åˆ›å»ºæ–°ç”¨æˆ·
- `login(email, password)`: éªŒè¯å¹¶è¿”å› token
- `generateToken(user)`: ç”Ÿæˆ JWT

### è®¾è®¡å†³ç­–
- ä½¿ç”¨ bcrypt (10 rounds) åŠ å¯†å¯†ç 
- JWT secret ä»ç¯å¢ƒå˜é‡è¯»å–
- é”™è¯¯ç»Ÿä¸€è¿”å›"Invalid credentials"(é˜²æ­¢ç”¨æˆ·æšä¸¾)

## Testing

### æµ‹è¯•ç»“æœ
- âœ… æ³¨å†ŒæˆåŠŸ: 200 OK
- âœ… é‡å¤æ³¨å†Œ: 400 Bad Request
- âœ… ç™»å½•æˆåŠŸ: 200 OK + token
- âœ… ç™»å½•å¤±è´¥: 401 Unauthorized
- âœ… æµ‹è¯•è¦†ç›–ç‡: 85%

## Usage
```typescript
const authService = new AuthService();
const result = await authService.register('user@example.com', 'password123');
console.log(result.token); // JWT token
```

## Dependencies
- bcrypt@5.1.0
- jsonwebtoken@9.0.2
- @prisma/client@5.0.0

## Next Steps
- å»ºè®®: æ·»åŠ å¯†ç é‡ç½®åŠŸèƒ½
- å»ºè®®: å®ç° refresh token æœºåˆ¶

## Token Usage
å®é™…ä½¿ç”¨: 23k tokens (é¢„ç®—: 25k) âœ…
```
